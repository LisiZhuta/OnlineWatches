@model OnlineWatches.ViewModels.CheckoutViewModel

@{
    ViewData["Title"] = "Checkout";
}

<form asp-action="Checkout" asp-controller="Cart" method="post" class="container mt-5" onsubmit="return confirmCheckout()">
    @Html.AntiForgeryToken()

    <div class="card mx-auto" style="max-width: 500px;">
        <div class="card-header bg-primary text-white">
            <h2 class="m-0">Checkout</h2>
        </div>

        <div class="card-body">
            <!-- Customer's Personal Information -->
            <div class="mb-3">
                <label asp-for="Name" class="form-label" style="color: #0d6efd;">Name</label>
                <input asp-for="Name" class="form-control" style="border-color: #0d6efd;" required />
            </div>

            <div class="mb-3">
                <label asp-for="Address" class="form-label" style="color: #0d6efd;">Address</label>
                <input asp-for="Address" class="form-control" style="border-color: #0d6efd;" required />
            </div>

            <div class="mb-3">
                <label asp-for="Email" class="form-label" style="color: #0d6efd;">Email</label>
                <input type="email" asp-for="Email" class="form-control" style="border-color: #0d6efd;" required />
            </div>

            <div class="mb-3">
                <label asp-for="Phone" class="form-label" style="color: #0d6efd;">Phone</label>
                <input type="tel" asp-for="Phone" class="form-control" style="border-color: #0d6efd;" required />
            </div>

            <!-- Credit Card Information -->
            <h3 style="color: #0d6efd;">Payment Information</h3>
            <div class="mb-3">
                <label asp-for="CardNumber" class="form-label" style="color: #0d6efd;">Card Number</label>
                <input asp-for="CardNumber" class="form-control" style="border-color: #0d6efd;" required />
            </div>

            <div class="mb-3">
                <label asp-for="ExpiryDate" class="form-label" style="color: #0d6efd;">Expiry Date</label>
                <input asp-for="ExpiryDate" class="form-control" style="border-color: #0d6efd;" placeholder="MM/YY" oninput="formatExpiryDate(this)" maxlength="5" required />
            </div>

            <div class="mb-3">
                <label asp-for="CVC" class="form-label" style="color: #0d6efd;">CVC</label>
                <input asp-for="CVC" class="form-control" style="border-color: #0d6efd;" required />
            </div>

            <div class="mt-4">
                <button type="submit" class="btn btn-primary w-100" style="background-color: #0d6efd; border-color: #0d6efd;">Complete Purchase</button>
            </div>
        </div>
    </div>
</form>

<script>
    function formatExpiryDate(input) {
        var value = input.value;
        if (value.length === 2 && !value.includes('/')) {
            input.value = value + '/';
        }
    }


    
        function confirmCheckout() {
            return confirm('Are you sure you want to complete this purchase?');
        }

    function formatExpiryDate(input) {
        var value = input.value;
        if (value.length === 2 && !value.includes('/')) {
            input.value = value + '/';
        }
    }
</script>

